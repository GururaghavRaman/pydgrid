# The only current way of using OS X virtual machines in Travis CI
# is setting up a generic environment
# This is not a problem because Python will be installed through conda

language: python

branches:
  only:
    - master

script:
  - python setup.py test -vv  # Test against installed code
  - sphinx-build -vW -b html docs/source _HTMLTest  # Test docs build

after_success:
  # Uninstall to test coverage against sources
  - pip uninstall pydgrid -y
  - pip install -e .

sudo: false
